<nav class="navbar navbar-default navbar-fixed-top" ng-init="getZodiacs()">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                    data-target="#bs-example-navbar-collapse-2">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Meny</a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-2">
            <ul class="nav navbar-nav">
                <li><a href="#">Hem </a></li>
                <li><a href="" data-toggle="modal" data-target="#addModal">Hjälp till!</a></li>
                <li class="dropdown">
                    <a href="" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Stjärntecken
                        <span class="caret"></span></a>
                    <ul class="dropdown-menu" role="menu">
                        <li ng-repeat="rows in zodiacs "><a href="" ng-click="scrollTo($index)">{{zodiacs[$index].name}}</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div class="container drop-shadow">
    <div class="container-fluid">
        <div class="page-header">
            <h2>Horoskopgeneratorn</h2>
            <p>Låt datamaskinen bestämma din framtid!</p>
        </div>
        <h6>
            <small>Senast uppdaterad: {{today}}</small>
        </h6>

        <div class="row">
            <div ng-repeat="rows in zodiacs ">
                <div class="clearfix" ng-if="$index % 4 == 0"></div>
                <div class="col-md-3">
                    <section id="{{$index}}">
                        <div class="well">
                            <blockquote class="blockquote">
                                <!--<h3 ng-bind-html="zodiacs[($parent.$index*rows.length)+($index)].symbol"></h3>-->
                                <h3>{{zodiacs[$index].name}}</h3>
                                <h6>{{zodiacs[$index].date}}</h6>
                                <p>{{zodiacs[$index].text}}</p>
                                <div>
                                    <h3><a href=""><span ng-click="upvote(zodiacs[$index].name)"
                                                         class="glyphicon glyphicon-thumbs-up"></span></a>
                                        {{zodiacs[$index].likes}}
                                        <a href=""><span ng-click="downvote(zodiacs[$index].name)"
                                                         class="glyphicon glyphicon-thumbs-down"></span></a></h3>
                                </div>
                            </blockquote>
                        </div>
                    </section>
                </div>
            </div>
        </div>
        <hr>
        <footer>
            <p><a href="#/moderator">©</a> Jonathan Karström 2017</p>

        </footer>
    </div>
</div>

<!-- modal for adding new phrases -->
<div id="addModal" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Lägg till nya fraser</h4>
            </div>
            <div class="modal-body">
                <p>Hjälp till att förbättra horoskopen genom att lägga till dina egna favoritfraser.</p>
                <form ng-submit="submit_form()">
                    <div class="form-group">
                        <label for="text1">Fras 1:</label>
                        <textarea class="form-control" rows="5" id="text1" ng-model="text1"
                                  placeholder="Idag är en bra dag att sticka ut."></textarea>
                        <label for="text2">Fras 2:</label>
                        <textarea class="form-control" rows="5" id="text2" ng-model="text2"
                                  placeholder="Nya inkomstkällor kan dyka upp."></textarea>
                        <label for="text3">Fras 3:</label>
                        <textarea class="form-control" rows="5" id="text3" ng-model="text3"
                                  placeholder="Det ser ljust ut!"></textarea>
                    </div>
                    <button class="btn btn-default" data-dismiss="modal" ng-click='submit_form()'>Submit
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>